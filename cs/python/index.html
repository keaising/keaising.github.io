<!DOCTYPE html>
<html lang="zh-Hans" class="han-la">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Python - 流水沉微</title>
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/syntax.css">
    <link rel="stylesheet" href="/css/kitto.css">
    <script src="/js/anchor.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script src="/js/text-autospace.js"></script>
</head>

<body>
    <div class="content width">
        <div class="top-header">
  <a class="site-title" href="http://shuxiao.wang">
    流水沉微
  </a>

  
  
  <div class="nav-body">
    
    
    <a class="nav-item " href="/posts/">
      
      <span>Posts</span>
    </a>
    
    
    
    <a class="nav-item " href="/cloud/">
      
      <span>Cloud</span>
    </a>
    
    
    
    <a class="nav-item " href="/eureka/">
      
      <span>Eureka!</span>
    </a>
    
    
  </div>
  
</div>

        <div>
            


<div class="Subhead">
    <div class="Subhead-heading">
        <h1>Python</h1>
    </div>
</div>




<article>
    
    <div class="true-content">
        <h2 id="staticmethod-vs-classmethod">@staticmethod vs. @classmethod</h2>
<p><code>2019-10-02</code></p>
<p>主要来源：<a href="https://stackoverflow.com/questions/136097/what-is-the-difference-between-staticmethod-and-classmethod">Stack Overflow</a></p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">A</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">print</span> <span class="s2">&#34;executing foo(</span><span class="si">%s</span><span class="s2">, </span><span class="si">%s</span><span class="s2">)&#34;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">class_foo</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">print</span> <span class="s2">&#34;executing class_foo(</span><span class="si">%s</span><span class="s2">, </span><span class="si">%s</span><span class="s2">)&#34;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">static_foo</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="k">print</span> <span class="s2">&#34;executing static_foo(</span><span class="si">%s</span><span class="s2">)&#34;</span> <span class="o">%</span> <span class="n">x</span>    

<span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">()</span>

<span class="n">a</span><span class="o">.</span><span class="n">foo</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># executing foo(&lt;__main__.A object at 0xb7dbef0c&gt;,1)</span>

<span class="n">a</span><span class="o">.</span><span class="n">class_foo</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># executing class_foo(&lt;class &#39;__main__.A&#39;&gt;,1)</span>

<span class="n">A</span><span class="o">.</span><span class="n">class_foo</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># executing class_foo(&lt;class &#39;__main__.A&#39;&gt;,1)</span>

<span class="n">a</span><span class="o">.</span><span class="n">static_foo</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># executing static_foo(1)</span>

<span class="n">A</span><span class="o">.</span><span class="n">static_foo</span><span class="p">(</span><span class="s1">&#39;hi&#39;</span><span class="p">)</span>
<span class="c1"># executing static_foo(hi)</span>
</code></pre></div><p>可以认为<code>foo</code>是实例方法，<code>class_foo</code>是类方法，而<code>static_foo</code>是静态方法</p>
<ul>
<li>
<p><code>foo</code> 会隐式传递参数<code>self</code>，<code>self</code>是当前调用这个方法的实例: <code>a</code></p>
</li>
<li>
<p><code>class_foo</code> 会隐式传递参数<code>cls</code>，<code>cls</code>是当前调用这个方法的类: <code>A</code></p>
</li>
<li>
<p><code>static_foo</code> 什么都没有，显示传递给它什么参数它就有什么，可以看成普通的 module function</p>
</li>
</ul>

    </div>

    <div class="page-info">
        <div>
            

<div>
    
</div>





        </div>
        
            
                <div class="publish-date">
                    <span
                        title="Lastmod: 2016-01-01. Published at: 2016-01-01.">
                        1 Jan 2016
                    </span>
                </div>
            
        
    </div>
</article>





        </div>
        <div id="footer" class="pt-2 pb-3 bg-white text-center">
            

  <span class="text-small text-gray">
    

    Powered by the
    <a href="https://github.com/keaising/kitto" class="link-gray-dark">Kitto</a> theme for
    <a href="https://gohugo.io" class="link-gray-dark">Hugo</a>.
  </span>


        </div>
    </div>

    
    <script>
        anchors.add();
    </script>
    <script>
        anchors.options = {
            placement: 'left',
        };
        anchors.add();
        anchors.add(".tag-title-left");
    </script>
    <script src="/js/mathjax.js"></script>
</body>

</html>